<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_65) on Tue Aug 26 13:25:26 EDT 2014 -->
<title>ParameterParser (javautil 3.1.2 API)</title>
<meta name="date" content="2014-08-26">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ParameterParser (javautil 3.1.2 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/clapper/util/cmdline/ParameterHandler.html" title="interface in org.clapper.util.cmdline"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/clapper/util/cmdline/UsageInfo.html" title="class in org.clapper.util.cmdline"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/clapper/util/cmdline/ParameterParser.html" target="_top">Frames</a></li>
<li><a href="ParameterParser.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.clapper.util.cmdline</div>
<h2 title="Class ParameterParser" class="title">Class ParameterParser</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.clapper.util.cmdline.ParameterParser</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public final class <span class="strong">ParameterParser</span>
extends java.lang.Object</pre>
<div class="block"><p>This class provides a command line parameter and option parser, suitable
 for use in command line utilities, as well as other contexts where a command
 line option-style syntax is desired. The <a href="../../../../org/clapper/util/cmdline/CommandLineUtility.html" title="class in org.clapper.util.cmdline"><code>CommandLineUtility</code></a> class
 implicitly uses this class to parse its parameters, but there's no reason
 an application cannot use a <tt>ParameterParser</tt> object directly.</p>

 <p><tt>ParameterParser</tt> supports both short single-character options
 (e.g., <tt>-h</tt>) and GNU-style long options (e.g., <tt>--help</tt>).
 A single option can have both a short and a long variant. Similarly, it's
 possible to have <i>only</i> a short or a long variant for an option. In
 addition, this class will parse non-option parameters that follow any
 options.</p>

 <p>Note that this class does <b>not</b> parse options the way GNU
 <i>getopt()</i> (or even traditional <i>getopt()</i>) does. In particular,
 it does not permit combining multiple single-character options into one
 command-line parameter. The parsing logic may be extended to support that
 capability in the future; however, it doesn't do that yet.</p>

 <p>Using this class is straightforward:</p>

 <ul>
   <li>Create a <a href="../../../../org/clapper/util/cmdline/UsageInfo.html" title="class in org.clapper.util.cmdline"><code>UsageInfo</code></a> object that describes the options and
       parameters. This object is also used when generating a usage summary
       message. (See the <a href="../../../../org/clapper/util/cmdline/ParameterParser.html#getUsageMessage(java.lang.String)"><code>getUsageMessage()</code></a> method.)
   <li>Create a class (often, a local or anonymous one will do) that implements
       the <a href="../../../../org/clapper/util/cmdline/ParameterHandler.html" title="interface in org.clapper.util.cmdline"><code>ParameterHandler</code></a> interface. An instance of this class will
       be passed to the parser, to be invoked as the parser encounters options
       and parameters.
   <li>Instantiate a <tt>ParameterParser</tt> object and call its
       <a href="../../../../org/clapper/util/cmdline/ParameterParser.html#parse(java.lang.String[],%20org.clapper.util.cmdline.ParameterHandler)"><code>parse()</code></a> method, passing it three arguments:
       <ol>
         <li>The array of parameters to be parsed. Options are assumed to
             precede non-option parameters.
         <li>The <a href="../../../../org/clapper/util/cmdline/UsageInfo.html" title="class in org.clapper.util.cmdline"><code>UsageInfo</code></a> object that describes the expected
             options and parameters.
         <li>An instance of the class that implements the
             <a href="../../../../org/clapper/util/cmdline/ParameterHandler.html" title="interface in org.clapper.util.cmdline"><code>ParameterHandler</code></a> interface.
       </ol>
 </ul>

 <p><b>Example:</b></p>

 <p>This example handles the following options and parameters, for a
 fictitious copy utility.</p>

 <table align="center" width="60%" class="nested-table">
   <tr valign="bottom">
     <th>Option/Parameter</th>
     <th>Meaning</th>
   </tr>

   <tr valign="top">
     <td><tt>--help</tt> or <tt>-h</tt></td>
     <td>Get detailed help</td>
   </tr>

   <tr valign="top">
     <td><tt>--force</tt> or <tt>-f</tt></td>
     <td>Perform the copy even if the destination file already exists.</td>
   </tr>

   <tr valign="top">
     <td><tt>--time yyyymmddHHMMSS</tt> or<br><tt>-t yymmddHHMMSS</tt></td>
     <td>After the copy, set the timestamp of the destination file to the
         specified datetime.</td>
   </tr>

   <tr valign="top">
     <td><tt>srcFile</tt></td>
     <td>Path to file to be copied.</td>
   </tr>

   <tr valign="top">
     <td><tt>destFile</tt></td>
     <td>Path to destinationn file.</td>
   </tr>
 </table>

 <p>Here's some sample code that will parse those options. In practice, of
 course, you'd usually use the <a href="../../../../org/clapper/util/cmdline/CommandLineUtility.html" title="class in org.clapper.util.cmdline"><code>CommandLineUtility</code></a> infrastructure,
 which provides these capabilities and more; however, for the purposes of
 illustration, we'll stick to <tt>ParameterParser</tt> here. This example
 omits constructors, a <tt>main()</tt> method, and other methods necessary
 build a truly runnable utility.</p>

 <pre>
 public class ExampleParser implements ParameterHandler
 {
     private Date timestamp= null;
     private boolean forceCopy = false;
     private boolean showHelpOnly = false;

     public void parse(String[] args) throws CommandLineUtilityException
     {
         UsageInfo usageInfo = new UsageInfo();

         usageInfo.addOption('h', "help", "Get detailed help");
         usageInfo.addOption('f', "force",
                             "Perform copy even if destination file exists.");
         usageInfo.addOption('t', "time", "yymmddHHMMSS",
                             "Set timestamp of destination file to specified " +
                             "datetime");
         usageInfo.addParameter("srcFile", "Path to file to be copied", true);
         usageInfo.addParameter("destFile", "Path to destination file", true);

         ParameterParser paramParser = new ParameterParser();
         try
         {
             paramParser.parse(args, this);
         }

         catch (Exception ex)
         {
             System.err.println(paramParser.getUsageMessage(null, 80));
         }
     }

     public void parseOption(char shortOption, String longOption, Iterator&lt;String&gt; it)
         throws CommandLineUsageException,
                NoSuchElementException
     {
         switch (shortOption)
         {
             case 'h':
                 doHelp();
                 this.showHelpOnly = true;
                 break;

             case 'f':
                 forceCopy = true;
                 break;

             case 't':
                 parseTimestamp(it.next());
                 break;

             default:
                 if (longOption == null)
                     throw new CommandLineUsageException("Unknown option: " +
                                                         UsageInfo.SHORT_OPTION_PREFIX +
                                                         shortOption);
                 else
                     throw new CommandLineUsageException("Unknown option: " +
                                                         UsageInfo.LONG_OPTION_PREFIX +
                                                         longOption);
                 break;
         }
     }

     public void parsePostOptionParameters(Iterator&lt;String&gt; it)
         throws CommandLineUsageException,
                NoSuchElementException
     {
         this.sourceFile = new File(it.next());
         this.targetFile = new File(it.next());
     }
 }
 </pre></div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../org/clapper/util/cmdline/ParameterHandler.html" title="interface in org.clapper.util.cmdline"><code>ParameterHandler</code></a>, 
<a href="../../../../org/clapper/util/cmdline/CommandLineUtility.html" title="class in org.clapper.util.cmdline"><code>CommandLineUtility</code></a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../org/clapper/util/cmdline/ParameterParser.html#ParameterParser(org.clapper.util.cmdline.UsageInfo)">ParameterParser</a></strong>(<a href="../../../../org/clapper/util/cmdline/UsageInfo.html" title="class in org.clapper.util.cmdline">UsageInfo</a>&nbsp;usageInfo)</code>
<div class="block">Construct a new <tt>ParameterParser</tt> that parses a specific set
 of options.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../org/clapper/util/cmdline/ParameterParser.html#getUsageMessage(java.lang.String)">getUsageMessage</a></strong>(java.lang.String&nbsp;prefixMsg)</code>
<div class="block">Generate a usage message.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../org/clapper/util/cmdline/ParameterParser.html#getUsageMessage(java.lang.String,%20int)">getUsageMessage</a></strong>(java.lang.String&nbsp;prefixMsg,
               int&nbsp;maxLineLength)</code>
<div class="block">Generate a usage message.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/clapper/util/cmdline/ParameterParser.html#parse(java.lang.String[],%20org.clapper.util.cmdline.ParameterHandler)">parse</a></strong>(java.lang.String[]&nbsp;params,
     <a href="../../../../org/clapper/util/cmdline/ParameterHandler.html" title="interface in org.clapper.util.cmdline">ParameterHandler</a>&nbsp;paramHandler)</code>
<div class="block">Parse a set of command-line parameters.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ParameterParser(org.clapper.util.cmdline.UsageInfo)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ParameterParser</h4>
<pre>public&nbsp;ParameterParser(<a href="../../../../org/clapper/util/cmdline/UsageInfo.html" title="class in org.clapper.util.cmdline">UsageInfo</a>&nbsp;usageInfo)</pre>
<div class="block">Construct a new <tt>ParameterParser</tt> that parses a specific set
 of options.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>usageInfo</code> - the <a href="../../../../org/clapper/util/cmdline/UsageInfo.html" title="class in org.clapper.util.cmdline"><code>UsageInfo</code></a> object that describes the
                   parameters to be parsed</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="parse(java.lang.String[], org.clapper.util.cmdline.ParameterHandler)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>parse</h4>
<pre>public&nbsp;void&nbsp;parse(java.lang.String[]&nbsp;params,
         <a href="../../../../org/clapper/util/cmdline/ParameterHandler.html" title="interface in org.clapper.util.cmdline">ParameterHandler</a>&nbsp;paramHandler)
           throws <a href="../../../../org/clapper/util/cmdline/CommandLineUsageException.html" title="class in org.clapper.util.cmdline">CommandLineUsageException</a></pre>
<div class="block">Parse a set of command-line parameters. The <a href="../../../../org/clapper/util/cmdline/UsageInfo.html" title="class in org.clapper.util.cmdline"><code>UsageInfo</code></a>
 object dictates the arguments to be parsed. The <a href="../../../../org/clapper/util/cmdline/ParameterHandler.html" title="interface in org.clapper.util.cmdline"><code>ParameterHandler</code></a>
 object handles the encountered parameters.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>params</code> - parameters to parse</dd><dd><code>paramHandler</code> - handles the arguments</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/clapper/util/cmdline/CommandLineUsageException.html" title="class in org.clapper.util.cmdline">CommandLineUsageException</a></code> - on error</dd></dl>
</li>
</ul>
<a name="getUsageMessage(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUsageMessage</h4>
<pre>public&nbsp;java.lang.String&nbsp;getUsageMessage(java.lang.String&nbsp;prefixMsg)</pre>
<div class="block">Generate a usage message.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>prefixMsg</code> - prefix (e.g., error) message to use, or null</dd>
<dt><span class="strong">Returns:</span></dt><dd>the usage string, with embedded newlines</dd></dl>
</li>
</ul>
<a name="getUsageMessage(java.lang.String, int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getUsageMessage</h4>
<pre>public&nbsp;java.lang.String&nbsp;getUsageMessage(java.lang.String&nbsp;prefixMsg,
                               int&nbsp;maxLineLength)</pre>
<div class="block">Generate a usage message.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>prefixMsg</code> - prefix (e.g., error) message to use, or null</dd><dd><code>maxLineLength</code> - maximum output line length, or 0 to disable line
                      wrapping</dd>
<dt><span class="strong">Returns:</span></dt><dd>the usage string, with embedded newlines</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/clapper/util/cmdline/ParameterHandler.html" title="interface in org.clapper.util.cmdline"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/clapper/util/cmdline/UsageInfo.html" title="class in org.clapper.util.cmdline"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/clapper/util/cmdline/ParameterParser.html" target="_top">Frames</a></li>
<li><a href="ParameterParser.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>

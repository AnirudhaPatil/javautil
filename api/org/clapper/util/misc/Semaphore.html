<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_65) on Tue Aug 26 13:25:26 EDT 2014 -->
<title>Semaphore (javautil 3.1.2 API)</title>
<meta name="date" content="2014-08-26">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Semaphore (javautil 3.1.2 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/clapper/util/misc/PropertiesMap.html" title="class in org.clapper.util.misc"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/clapper/util/misc/SemaphoreException.html" title="class in org.clapper.util.misc"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/clapper/util/misc/Semaphore.html" target="_top">Frames</a></li>
<li><a href="Semaphore.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.clapper.util.misc</div>
<h2 title="Interface Semaphore" class="title">Interface Semaphore</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../org/clapper/util/misc/ObjectLockSemaphore.html" title="class in org.clapper.util.misc">ObjectLockSemaphore</a></dd>
</dl>
<hr>
<div class="block"><strong>Deprecated.</strong>&nbsp;
<div class="block"><i>J2SE 5.0 now provides a <tt>java.util.concurrent.Semaphore</tt> class</i></div>
</div>
<br>
<pre>public interface <span class="strong">Semaphore</span></pre>
<div class="block"><p><b>NOTE: This interface, and its subclasses, are deprecated. With
 J2SE 5.0 (a.k.a., Java 1.5), the JDK provides its own semaphore class,
 <tt>java.util.concurrent.Semaphore</tt>.</b></p>

 <p>The <tt>Semaphore</tt> interface specifies a classic counting
 semaphore. This interface can be implemented in a variety of ways, including
 (but not limited to) the following:</p>

 <ul>
   <li> using the Java object-locking primitives (see, for instance,
        the <a href="../../../../org/clapper/util/misc/ObjectLockSemaphore.html" title="class in org.clapper.util.misc"><code>ObjectLockSemaphore</code></a>)
   <li> using the Java Native Interface (JNI) to access an underlying
        operating system semaphore primitive (e.g., the System V semaphore
        service on a Unix system)
 </ul>

 <p>The following description of a semaphore is paraphrased from <i>An
 Introduction to Operating Systems</i>, by Harvey M. Deitel
 (Addison-Wesley, 1983, p. 88):</p>

 <blockquote>

 <p>"[Edsgar] Dijkstra developed the concept of semaphores ... as an aid
 to synchronizing processes. A semaphore is a variable that can be
 operated upon only by the synchronizing primitives, P and V (letters
 corresponding to words in Dijkstra's native language, Dutch) defined as
 follows:</p>

 <ul>
     <li> P(S): wait for S to become greater than zero and then
          subtract 1 from S and proceed
     <li> V(S): add 1 to S and then proceed
 </ul>

 <p>"P allows a process to block itself voluntarily while it waits for
 an event to occur. V allows another process to wake up a blocked
 process. Each of these operations must be performed indivisibly; that
 is, the are not interruptible. The V-operation cannot block the process
 that performs it."</p>

 </blockquote>

 <p>Within this <tt>Semaphore</tt> class, the P operation corresponds to
 the <a href="../../../../org/clapper/util/misc/Semaphore.html#acquire()"><code>acquire()</code></a> method, and the V operation corresponds to the
 <a href="../../../../org/clapper/util/misc/Semaphore.html#release()"><code>release()</code></a> method.</p>

 <p>In other programming languages, one common use for a semaphore is to
 lock a critical section. For example, a semaphore is often used to
 synchronize access to a data structure that's shared between one or more
 processes or threads. Since the Java language has built in support for
 interthread synchronization (via the <tt>synchronized</tt> keyword),
 semaphores are not needed for that purpose in Java.</p>

 <p>However, semaphores <i>are</i> still useful in some scenarios.
 Consider the case where you have a fixed-size pool of shared buffers to
 be shared between all running threads. For whatever reason, you cannot
 allocate more buffers; you're stuck with the fixed number. How do you
 control access to the buffers when there are more threads than there are
 buffers? A semaphore makes this job much easier:</p>

 <ul>
   <li>Create a semaphore that's associated with the buffer pool.
   <li>Initialize the semaphore's counter to the number of buffers in the
       pool.
   <li>Whenever a thread wants a buffer, it must first acquire the semaphore.
   <li>Whenever a thread releases a buffer back to the pool, it must also
       release the semaphore.
 </ul>

 <p>If a thread attempts to allocate a buffer from the pool, and there is
 at least one buffer in the pool, the thread's attempt to acquire the
 semaphore will succeed, and it can safely get the buffer. However, if there
 are no buffers in the pool, the buffer pool semaphore will be 0, and the
 thread will have to wait until (a) a buffer is returned to the pool,
 which will "kick" the semaphore and awaken the thread, or (b) the
 semaphore's <tt>acquire()</tt> method times out.</p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/clapper/util/misc/Semaphore.html#acquire()">acquire</a></strong>()</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;</div>
<div class="block">Acquire this semaphore.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/clapper/util/misc/Semaphore.html#acquire(long)">acquire</a></strong>(long&nbsp;timeout)</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;</div>
<div class="block">Acquire this semaphore.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/clapper/util/misc/Semaphore.html#addToCount(int)">addToCount</a></strong>(int&nbsp;delta)</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;</div>
<div class="block">Increment the semaphore's current value, as well as its maximum value.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/clapper/util/misc/Semaphore.html#getValue()">getValue</a></strong>()</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;</div>
<div class="block">Get the semaphore's current value (i.e., its count).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/clapper/util/misc/Semaphore.html#release()">release</a></strong>()</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;</div>
<div class="block">Release this semaphore, incrementing its counter.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="acquire(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>acquire</h4>
<pre>boolean&nbsp;acquire(long&nbsp;timeout)
                throws <a href="../../../../org/clapper/util/misc/SemaphoreException.html" title="class in org.clapper.util.misc">SemaphoreException</a></pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;</div>
<div class="block">Acquire this semaphore. If the semaphore isn't available, the
 current thread is put to sleep until either (a) the semaphore is
 available, or (b) the timeout period expires.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>timeout</code> - Timeout period, in milliseconds. A value of 0 means
                 "wait forever, until the semaphore is available." A
                 negative value means "return immediately if the
                 semaphore is not available."</dd>
<dt><span class="strong">Returns:</span></dt><dd><tt>true</tt> if the semaphore was successfully acquired,
         <tt>false</tt> if the timeout expired.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/clapper/util/misc/SemaphoreException.html" title="class in org.clapper.util.misc">SemaphoreException</a></code> - error attempting to acquire semaphore</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../org/clapper/util/misc/Semaphore.html#acquire()"><code>acquire()</code></a></dd></dl>
</li>
</ul>
<a name="acquire()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>acquire</h4>
<pre>boolean&nbsp;acquire()
                throws <a href="../../../../org/clapper/util/misc/SemaphoreException.html" title="class in org.clapper.util.misc">SemaphoreException</a></pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;</div>
<div class="block">Acquire this semaphore. If the semaphore isn't available, this
 method waits forever for the semaphore to become available. Calling
 this version of <tt>acquire()</tt> is exactly equivalent to calling
 <a href="../../../../org/clapper/util/misc/Semaphore.html#acquire(long)"><code>acquire(long)</code></a> with a timeout value of 0.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/clapper/util/misc/SemaphoreException.html" title="class in org.clapper.util.misc">SemaphoreException</a></code> - error attempting to acquire semaphore</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../org/clapper/util/misc/Semaphore.html#acquire(long)"><code>acquire(long)</code></a></dd></dl>
</li>
</ul>
<a name="addToCount(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addToCount</h4>
<pre>void&nbsp;addToCount(int&nbsp;delta)
                throws <a href="../../../../org/clapper/util/misc/SemaphoreException.html" title="class in org.clapper.util.misc">SemaphoreException</a></pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;</div>
<div class="block">Increment the semaphore's current value, as well as its maximum value.
 This method is useful in cases where the semaphore is controlling
 access to multiple instances of a resource (e.g, database connections,
 file descriptors, etc.), and more instances of the controlled resource
 have become available.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>delta</code> - The amount by which to increment the count.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/clapper/util/misc/SemaphoreException.html" title="class in org.clapper.util.misc">SemaphoreException</a></code> - error updating semaphore's count</dd></dl>
</li>
</ul>
<a name="getValue()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getValue</h4>
<pre>int&nbsp;getValue()
             throws <a href="../../../../org/clapper/util/misc/SemaphoreException.html" title="class in org.clapper.util.misc">SemaphoreException</a></pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;</div>
<div class="block">Get the semaphore's current value (i.e., its count).</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the current value of the semaphore</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/clapper/util/misc/SemaphoreException.html" title="class in org.clapper.util.misc">SemaphoreException</a></code> - error getting semaphore's value</dd></dl>
</li>
</ul>
<a name="release()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>release</h4>
<pre>void&nbsp;release()
             throws <a href="../../../../org/clapper/util/misc/SemaphoreException.html" title="class in org.clapper.util.misc">SemaphoreException</a></pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;</div>
<div class="block">Release this semaphore, incrementing its counter.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/clapper/util/misc/SemaphoreException.html" title="class in org.clapper.util.misc">SemaphoreException</a></code> - error getting semaphore's value</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/clapper/util/misc/PropertiesMap.html" title="class in org.clapper.util.misc"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/clapper/util/misc/SemaphoreException.html" title="class in org.clapper.util.misc"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/clapper/util/misc/Semaphore.html" target="_top">Frames</a></li>
<li><a href="Semaphore.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>

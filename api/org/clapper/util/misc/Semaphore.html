<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_26) on Mon Apr 02 11:39:11 EDT 2012 -->
<TITLE>
Semaphore (javautil)
</TITLE>

<META NAME="date" CONTENT="2012-04-02">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Semaphore (javautil)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/clapper/util/misc/PropertiesMap.html" title="class in org.clapper.util.misc"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/clapper/util/misc/SemaphoreException.html" title="class in org.clapper.util.misc"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/clapper/util/misc/Semaphore.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Semaphore.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.clapper.util.misc</FONT>
<BR>
Interface Semaphore</H2>
<DL>
<DT><B>All Known Implementing Classes:</B> <DD><A HREF="../../../../org/clapper/util/misc/ObjectLockSemaphore.html" title="class in org.clapper.util.misc">ObjectLockSemaphore</A></DD>
</DL>
<HR>
<B>Deprecated.</B>&nbsp;<I>J2SE 5.0 now provides a <tt>java.util.concurrent.Semaphore</tt> class</I>
<P>
<DL>
<DT><PRE>public interface <B>Semaphore</B></DL>
</PRE>

<P>
<p><b>NOTE: This interface, and its subclasses, are deprecated. With
 J2SE 5.0 (a.k.a., Java 1.5), the JDK provides its own semaphore class,
 <tt>java.util.concurrent.Semaphore</tt>.</b></p>

 <p>The <tt>Semaphore</tt> interface specifies a classic counting
 semaphore. This interface can be implemented in a variety of ways, including
 (but not limited to) the following:</p>

 <ul>
   <li> using the Java object-locking primitives (see, for instance,
        the <A HREF="../../../../org/clapper/util/misc/ObjectLockSemaphore.html" title="class in org.clapper.util.misc"><CODE>ObjectLockSemaphore</CODE></A>)
   <li> using the Java Native Interface (JNI) to access an underlying
        operating system semaphore primitive (e.g., the System V semaphore
        service on a Unix system)
 </ul>

 <p>The following description of a semaphore is paraphrased from <i>An
 Introduction to Operating Systems</i>, by Harvey M. Deitel
 (Addison-Wesley, 1983, p. 88):</p>

 <blockquote>

 <p>"[Edsgar] Dijkstra developed the concept of semaphores ... as an aid
 to synchronizing processes. A semaphore is a variable that can be
 operated upon only by the synchronizing primitives, P and V (letters
 corresponding to words in Dijkstra's native language, Dutch) defined as
 follows:</p>

 <ul>
     <li> P(S): wait for S to become greater than zero and then
          subtract 1 from S and proceed
     <li> V(S): add 1 to S and then proceed
 </ul>

 <p>"P allows a process to block itself voluntarily while it waits for
 an event to occur. V allows another process to wake up a blocked
 process. Each of these operations must be performed indivisibly; that
 is, the are not interruptible. The V-operation cannot block the process
 that performs it."</p>

 </blockquote>

 <p>Within this <tt>Semaphore</tt> class, the P operation corresponds to
 the <A HREF="../../../../org/clapper/util/misc/Semaphore.html#acquire()"><CODE>acquire()</CODE></A> method, and the V operation corresponds to the
 <A HREF="../../../../org/clapper/util/misc/Semaphore.html#release()"><CODE>release()</CODE></A> method.</p>

 <p>In other programming languages, one common use for a semaphore is to
 lock a critical section. For example, a semaphore is often used to
 synchronize access to a data structure that's shared between one or more
 processes or threads. Since the Java language has built in support for
 interthread synchronization (via the <tt>synchronized</tt> keyword),
 semaphores are not needed for that purpose in Java.</p>

 <p>However, semaphores <i>are</i> still useful in some scenarios.
 Consider the case where you have a fixed-size pool of shared buffers to
 be shared between all running threads. For whatever reason, you cannot
 allocate more buffers; you're stuck with the fixed number. How do you
 control access to the buffers when there are more threads than there are
 buffers? A semaphore makes this job much easier:</p>

 <ul>
   <li>Create a semaphore that's associated with the buffer pool.
   <li>Initialize the semaphore's counter to the number of buffers in the
       pool.
   <li>Whenever a thread wants a buffer, it must first acquire the semaphore.
   <li>Whenever a thread releases a buffer back to the pool, it must also
       release the semaphore.
 </ul>

 <p>If a thread attempts to allocate a buffer from the pool, and there is
 at least one buffer in the pool, the thread's attempt to acquire the
 semaphore will succeed, and it can safely get the buffer. However, if there
 are no buffers in the pool, the buffer pool semaphore will be 0, and the
 thread will have to wait until (a) a buffer is returned to the pool,
 which will "kick" the semaphore and awaken the thread, or (b) the
 semaphore's <tt>acquire()</tt> method times out.</p>
<P>

<P>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/clapper/util/misc/Semaphore.html#acquire()">acquire</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>Deprecated.</B>&nbsp;Acquire this semaphore.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/clapper/util/misc/Semaphore.html#acquire(long)">acquire</A></B>(long&nbsp;timeout)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>Deprecated.</B>&nbsp;Acquire this semaphore.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/clapper/util/misc/Semaphore.html#addToCount(int)">addToCount</A></B>(int&nbsp;delta)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>Deprecated.</B>&nbsp;Increment the semaphore's current value, as well as its maximum value.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/clapper/util/misc/Semaphore.html#getValue()">getValue</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>Deprecated.</B>&nbsp;Get the semaphore's current value (i.e., its count).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/clapper/util/misc/Semaphore.html#release()">release</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>Deprecated.</B>&nbsp;Release this semaphore, incrementing its counter.</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="acquire(long)"><!-- --></A><H3>
acquire</H3>
<PRE>
boolean <B>acquire</B>(long&nbsp;timeout)
                throws <A HREF="../../../../org/clapper/util/misc/SemaphoreException.html" title="class in org.clapper.util.misc">SemaphoreException</A></PRE>
<DL>
<DD><B>Deprecated.</B>&nbsp;<DD>Acquire this semaphore. If the semaphore isn't available, the
 current thread is put to sleep until either (a) the semaphore is
 available, or (b) the timeout period expires.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>timeout</CODE> - Timeout period, in milliseconds. A value of 0 means
                 "wait forever, until the semaphore is available." A
                 negative value means "return immediately if the
                 semaphore is not available."
<DT><B>Returns:</B><DD><tt>true</tt> if the semaphore was successfully acquired,
         <tt>false</tt> if the timeout expired.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/clapper/util/misc/SemaphoreException.html" title="class in org.clapper.util.misc">SemaphoreException</A></CODE> - error attempting to acquire semaphore<DT><B>See Also:</B><DD><A HREF="../../../../org/clapper/util/misc/Semaphore.html#acquire()"><CODE>acquire()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="acquire()"><!-- --></A><H3>
acquire</H3>
<PRE>
boolean <B>acquire</B>()
                throws <A HREF="../../../../org/clapper/util/misc/SemaphoreException.html" title="class in org.clapper.util.misc">SemaphoreException</A></PRE>
<DL>
<DD><B>Deprecated.</B>&nbsp;<DD>Acquire this semaphore. If the semaphore isn't available, this
 method waits forever for the semaphore to become available. Calling
 this version of <tt>acquire()</tt> is exactly equivalent to calling
 <A HREF="../../../../org/clapper/util/misc/Semaphore.html#acquire(long)"><CODE>acquire(long)</CODE></A> with a timeout value of 0.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/clapper/util/misc/SemaphoreException.html" title="class in org.clapper.util.misc">SemaphoreException</A></CODE> - error attempting to acquire semaphore<DT><B>See Also:</B><DD><A HREF="../../../../org/clapper/util/misc/Semaphore.html#acquire(long)"><CODE>acquire(long)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="addToCount(int)"><!-- --></A><H3>
addToCount</H3>
<PRE>
void <B>addToCount</B>(int&nbsp;delta)
                throws <A HREF="../../../../org/clapper/util/misc/SemaphoreException.html" title="class in org.clapper.util.misc">SemaphoreException</A></PRE>
<DL>
<DD><B>Deprecated.</B>&nbsp;<DD>Increment the semaphore's current value, as well as its maximum value.
 This method is useful in cases where the semaphore is controlling
 access to multiple instances of a resource (e.g, database connections,
 file descriptors, etc.), and more instances of the controlled resource
 have become available.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>delta</CODE> - The amount by which to increment the count.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/clapper/util/misc/SemaphoreException.html" title="class in org.clapper.util.misc">SemaphoreException</A></CODE> - error updating semaphore's count</DL>
</DD>
</DL>
<HR>

<A NAME="getValue()"><!-- --></A><H3>
getValue</H3>
<PRE>
int <B>getValue</B>()
             throws <A HREF="../../../../org/clapper/util/misc/SemaphoreException.html" title="class in org.clapper.util.misc">SemaphoreException</A></PRE>
<DL>
<DD><B>Deprecated.</B>&nbsp;<DD>Get the semaphore's current value (i.e., its count).
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the current value of the semaphore
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/clapper/util/misc/SemaphoreException.html" title="class in org.clapper.util.misc">SemaphoreException</A></CODE> - error getting semaphore's value</DL>
</DD>
</DL>
<HR>

<A NAME="release()"><!-- --></A><H3>
release</H3>
<PRE>
void <B>release</B>()
             throws <A HREF="../../../../org/clapper/util/misc/SemaphoreException.html" title="class in org.clapper.util.misc">SemaphoreException</A></PRE>
<DL>
<DD><B>Deprecated.</B>&nbsp;<DD>Release this semaphore, incrementing its counter.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/clapper/util/misc/SemaphoreException.html" title="class in org.clapper.util.misc">SemaphoreException</A></CODE> - error getting semaphore's value</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/clapper/util/misc/PropertiesMap.html" title="class in org.clapper.util.misc"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/clapper/util/misc/SemaphoreException.html" title="class in org.clapper.util.misc"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/clapper/util/misc/Semaphore.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Semaphore.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
